metadata:
  title: Implement generateCascadeEvent (factory for cascade events)
  priority: high
  estimation: S
  created_by: "Miguel Carvalho (m@kodebase.ai)"
  assignee: "Miguel Carvalho (m@kodebase.ai)"
  schema_version: "0.0.1"
  relationships:
    blocks: [A.5.3, A.5.4]
    blocked_by: [A.5.1]
  events:
    - event: draft
      timestamp: "2025-10-28T10:13:00Z"
      actor: "Miguel Carvalho (m@kodebase.ai)"
      trigger: artifact_created
    - event: blocked
      timestamp: "2025-10-28T14:44:00Z"
      actor: "Miguel Carvalho (m@kodebase.ai)"
      trigger: has_dependencies
      metadata:
        blocking_dependencies:
          - artifact_id: A.5.1
            resolved: false
content:
  summary: >-
    Provide a factory to build parent-facing cascade events with consistent metadata,
    using explicit triggers such as dependency_completed, parent_completed, parent_archived
    where relevant, and including trigger context.
  acceptance_criteria:
    - Generates an Event record with required fields (event, timestamp, actor, trigger, metadata)
    - Metadata includes cascade_type and minimal trigger context (event, actor, timestamp)
    - Explicit triggers only; no implicit/manual fallback
